////
/// @group ax-properties
////

@use "sass:map";
@use "sass:math";
@use "../../config" as cfg;
@use "../../tools/functions/scale";
@use "../../tools/functions/rhythm";

/// Line heights supporting the vertical rhythm at every step of the scale.
/// @name Line Heights
/// @requires $merged
/// @requires $derived
/// @link https://drewish.com/tools/vertical-rhythm/ Vertical rhythm calculation tool
:root {
  $scale: map.get(cfg.$merged, typography, scale);
  $line: map.get(cfg.$merged, typography, line);
  $rlh: map.get(cfg.$derived, typography, rlh);

  --line-root: #{map.get($line, root)};
  --line-root-abs: #{$rlh};

  @for $i from map.get($scale, min) through map.get($scale, max) {
    $font-size: scale.modular(
      $i,
      map.get($scale, base),
      map.get($scale, factor)
    );
    --line-#{$i}: #{rhythm.grid-line(
        $font-size,
        $rlh,
        map.get($line, min),
        map.get($line, sub)
      )};
  }
}
